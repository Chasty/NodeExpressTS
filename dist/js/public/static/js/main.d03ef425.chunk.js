(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{18:function(t,e,n){t.exports=n(43)},23:function(t,e,n){},24:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(16),c=n.n(o),u=(n(23),n(6)),s=(n(24),n(2)),i=n.n(s),l=n(3),d=n(4),p=n.n(d),m="http://51.79.67.17:4300",f=function(){var t=Object(l.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get(m+"/todos");case 3:return e=t.sent,t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={name:e.name,description:e.description,status:!1},t.next=4,p.a.post(m+"/add-todo",n);case 4:return r=t.sent,t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(l.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={status:!0},t.next=4,p.a.put("".concat(m,"/edit-todo/").concat(e._id),n);case 4:return r=t.sent,t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(l.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.delete("".concat(m,"/delete-todo/").concat(e));case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),w=n(5),b=n(17),g=function(t){var e=t.saveTodo,n=Object(r.useState)(),o=Object(u.a)(n,2),c=o[0],s=o[1],i=function(t){s(Object(b.a)({},c,Object(w.a)({},t.currentTarget.id,t.currentTarget.value)))};return a.a.createElement("form",{className:"Form",onSubmit:function(t){return e(t,c)}},a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"name"},"Name"),a.a.createElement("input",{onChange:i,type:"text",id:"name"})),a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"description"},"Description"),a.a.createElement("input",{onChange:i,type:"text",id:"description"}))),a.a.createElement("button",{disabled:void 0===c},"Add Todo"))},x=function(t){var e=t.todo,n=t.updateTodo,r=t.deleteTodo,o=e.status?"line-through":"";return a.a.createElement("div",{className:"Card"},a.a.createElement("div",{className:"Card--text"},a.a.createElement("h1",{className:o},e.name),a.a.createElement("span",{style:{textAlign:"left"},className:o},e.description)),a.a.createElement("div",{className:"Card--button"},a.a.createElement("button",{onClick:function(){return n(e)},className:e.status?"hide-button":"Card--button__done"},"Complete"),a.a.createElement("button",{onClick:function(){return r(e._id)},className:"Card--button__delete"},"Delete")))};var y=function(){var t=Object(r.useState)([]),e=Object(u.a)(t,2),n=e[0],o=e[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){f().then((function(t){var e=t.data.todos;return o(e)})).catch((function(t){return console.log(t)}))},s=function(t){v(t).then((function(t){var e=t.status,n=t.data;if(200!==e)throw new Error("Error! Todo not updated");o(n.todos)})).catch((function(t){return console.log(t)}))},i=function(t){E(t).then((function(t){var e=t.status,n=t.data;if(200!==e)throw new Error("Error! Todo not deleted");o(n.todos)})).catch((function(t){return console.log(t)}))};return a.a.createElement("main",{className:"App"},a.a.createElement("h1",null,"My Todos"),a.a.createElement(g,{saveTodo:function(t,e){t.preventDefault(),h(e).then((function(t){var e=t.status,n=t.data;if(201!==e)throw new Error("Error! Todo not saved");o(n.todos)})).catch((function(t){return console.log(t)}))}}),n.map((function(t){return a.a.createElement(x,{key:t._id,updateTodo:s,deleteTodo:i,todo:t})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.d03ef425.chunk.js.map